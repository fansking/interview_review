## 学习

### 协议制定

#### TLV协议

 数据传输方案，包括三个信息：tag,length,value

如protobuf就是典型的tlv的一种

#### 登录鉴权设计

原则1：互相不信任

原则2：私下接头（防止第三方窥探）

改进这个流程，首先密码裸奔的问题。但对密码加密的做法是错误的，任何可以还原的加密方法都不建议使用。可以考虑用密码作为密钥加密uin。

如果攻击者假装server,抓到一次key,以后就可以伪装server了。所以可以在客户端加随机数一起加密，用随机数加密key。保证key是一次性的。

又有一个问题，当server端服务器被攻击，如果密码是明文存储，就会直接被泄露，所以要对密码加密。服务端要存下图中的H

虽然H是加密后的，但仍然是可以拿到的，黑客拿到H后可以伪装client，那如何让黑客拿到H也无法登录。那就是使用pwd再做一层验证。



